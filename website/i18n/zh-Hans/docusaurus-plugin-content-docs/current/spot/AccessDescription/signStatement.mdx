---
id: SignatureInstructions
title: 签名说明
sidebar_label: 签名说明
sidebar_position: 4
---

由于XT需要为第三方平台提供一些开放接口，需要考虑**数据安全**问题。

如：

- 数据是否被篡改
- 数据是否过期
- 数据是否可以重复提交
- 接口的访问频率

其中，**数据是否被篡改是最重要的问题**。

---

### 步骤

1. **Appkey & Secretkey** 先在用户中心申请`appkey`和`secretkey`，每个用户的密钥都不同。

2. **时间戳** 添加`timestamp`。

   - 其值应为发送请求时的**unix时间戳（毫秒）**。
   - 数据的时间基于此值计算。

3. **签名** 添加`signature`，其值通过签名算法规则获得。

4. **接收窗口** 添加`recvwindow`（定义请求的有效时间）。

   - 有效时间固定为某个值。
   - 当收到请求时，服务器检查：

     ```
     serverTime - timestamp < recvwindow
     ```

   - 任何超过**5000毫秒**的请求都无效。
   - 如果客户端的时间戳比服务器时间提前超过**1秒**，请求无效。

   **注意：** 在线条件并不总是100%可靠。这就是我们提供`recvWindow`参数的原因：

   - 对于高频交易，调整`recvWindow`以满足时效性需求。
   - 不建议使用超过**5秒**的RecvWindow。

5. **算法** 添加`algorithms`（签名方法）。
   - 推荐：`HmacSHA256`
   - 支持的算法：
     - HmacMD5
     - HmacSHA1
     - HmacSHA224
     - **HmacSHA256（推荐）**
     - HmacSHA384
     - HmacSHA512

---

### 示例参数

| 名称 | 必填 | 示例 | 描述 |
| --- | --- | --- | --- |
| validate-appkey | ✅ | dbefbc809e3e83c283a984c3a1459732ea7db1360ca80c5c2c8867408d28cc83 |  |
| validate-timestamp | ✅ | 1641446237201 |  |
| validate-signature | ✅ | 0a7d0b5e802eb5e52ac0cfcd6311b0faba6e2503a9a8d1e2364b38617877574d |  |
| validate-recvwindow | ✅ | 5000 (毫秒) |  |
| validate-algorithms | ✅ | HmacSHA256 | HmacMD5、HmacSHA1、HmacSHA224、HmacSHA256、HmacSHA384、HmacSHA512<br/>默认：HmacSHA256 |
| validate-signversion | ❌ | 1.0 | 保留，签名版本号 |
